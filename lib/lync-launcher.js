// Generated by CoffeeScript 1.12.6
(function() {
  var _, _checkLync, autoCheck, exec, intervalId, ps, stopAutoCheck;

  ps = require('ps-node');

  _ = require('lodash');

  exec = require('child_process').exec;

  intervalId = null;

  autoCheck = (function(_this) {
    return function(intervalTime) {
      if (intervalTime == null) {
        intervalTime = 10000;
      }
      if (!intervalId) {
        return intervalId = setInterval(_checkLync, intervalTime);
      }
    };
  })(this);

  stopAutoCheck = (function(_this) {
    return function() {
      if (intervalId) {
        return intervalId = clearInterval(intervalId);
      }
    };
  })(this);

  _checkLync = (function(_this) {
    return function() {
      return ps.lookup({
        command: 'lync'
      }, function(error, result) {
        if (_.isEmpty(result)) {
          return exec('cd C:\\ && start lync.exe', function(err, stdout, stderr) {
            return {};
          });
        }
      });
    };
  })(this);

  module.exports = {
    autoCheck: autoCheck,
    stopAutoCheck: stopAutoCheck
  };

}).call(this);

//# sourceMappingURL=lync-launcher.js.map
